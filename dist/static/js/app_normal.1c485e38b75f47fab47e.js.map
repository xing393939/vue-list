{"version":3,"sources":["webpack:///static/js/app_normal.1c485e38b75f47fab47e.js","webpack:///./src/main_normal.js","webpack:///App-normal.vue","webpack:///vue-list-normal.vue","webpack:///./src/App-normal.vue","webpack:///./src/components/vue-list-normal.vue","webpack:///./src/components/vue-list-normal.vue?929c","webpack:///./src/App-normal.vue?29df"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_AppNormal","_AppNormal2","el","template","components","App","Object","defineProperty","value","_vueListNormal","_vueListNormal2","window","COUNT","name","data","list","created","i","this","push","title","methods","setData","vueList","props","type","Array","required","twoWays","height","Number","canScroll","Boolean","dispatchData","Function","lastScrollTop","distance","lineTopHeight","lineBottomHeight","canLoadmore","previewList","displayCount","mounted","initData","handleScroll","_rowsInWindow","Math","ceil","$el","offsetHeight","_above","_below","_max","_scrollTop","scrollTop","_height","querySelectorAll","floor","abs","length","resetPreviewList","loadmore","from","to","_this","setTimeout","__vue_exports__","__vue_options__","__vue_template__","options","render","staticRenderFns","_vm","_h","$createElement","_c","_self","staticClass","on","scroll","style","_v","_l","item","_s","attrs","id","update:list","$event"],"mappings":"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","file":"static/js/app_normal.1c485e38b75f47fab47e.js","sourcesContent":["webpackJsonp([1,0],[\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _AppNormal = __webpack_require__(6);\n\t\n\tvar _AppNormal2 = _interopRequireDefault(_AppNormal);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tnew _vue2.default({\n\t  el: '#app',\n\t  template: '<App/>',\n\t  components: { App: _AppNormal2.default }\n\t});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 3 */,\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vueListNormal = __webpack_require__(7);\n\t\n\tvar _vueListNormal2 = _interopRequireDefault(_vueListNormal);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\twindow.COUNT = 1;\n\t\n\texports.default = {\n\t  name: 'app',\n\t  data: function data() {\n\t    return {\n\t      list: [],\n\t      data: {}\n\t    };\n\t  },\n\t  created: function created() {\n\t    for (var i = 0; i < 200; i++) {\n\t      this.list.push({\n\t        title: 'item ' + COUNT++\n\t      });\n\t    }\n\t  },\n\t\n\t  methods: {\n\t    setData: function setData(data) {\n\t      this.data = data;\n\t    }\n\t  },\n\t  components: {\n\t    vueList: _vueListNormal2.default\n\t  }\n\t};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  name: 'vue-list',\n\t  props: {\n\t    list: {\n\t      type: Array,\n\t      required: true,\n\t      default: [],\n\t      twoWays: true\n\t    },\n\t    height: {\n\t      type: Number,\n\t      default: 44\n\t    },\n\t    canScroll: {\n\t      type: Boolean,\n\t      default: true\n\t    },\n\t    dispatchData: {\n\t      type: Function\n\t    }\n\t  },\n\t  data: function data() {\n\t    return {\n\t      lastScrollTop: null,\n\t      distance: 44,\n\t      lineTopHeight: 0,\n\t      lineBottomHeight: 0,\n\t      canLoadmore: true,\n\t      previewList: [],\n\t      displayCount: 0\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    this.initData();\n\t    this.handleScroll();\n\t  },\n\t\n\t  methods: {\n\t    initData: function initData() {\n\t      this._rowsInWindow = Math.ceil(this.$el.offsetHeight / this.height), this._above = this._rowsInWindow * 2, this._below = this._rowsInWindow, this._max = this._rowsInWindow * this.height;\n\t    },\n\t    handleScroll: function handleScroll() {\n\t      var _scrollTop = this.$el.scrollTop,\n\t          _height = this.$el.querySelectorAll('ul')[0].offsetHeight,\n\t          _contentHeight = this.$el.offsetHeight;\n\t\n\t      if (_scrollTop / this.height - Math.floor(_scrollTop / this.height) > 0.5) {\n\t        this.displayCount = Math.ceil(_scrollTop / this.height);\n\t      } else {\n\t        this.displayCount = Math.floor(_scrollTop / this.height);\n\t      }\n\t\n\t      if (this.lastScrollTop === null || Math.abs(_scrollTop - this.lastScrollTop) > this._max) {\n\t        this.lastScrollTop = _scrollTop;\n\t      } else {\n\t\n\t        if (_height - _scrollTop <= this._max) {\n\t          this.canScroll && this.loadmore(0, this.previewList.length + this._rowsInWindow * 4);\n\t        }\n\t        return;\n\t      }\n\t\n\t      if (!this.previewList.length) this.resetPreviewList(0, this.previewList.length + this._rowsInWindow * 4);\n\t    },\n\t    loadmore: function loadmore(from, to) {\n\t      var _this = this;\n\t\n\t      if (!this.canLoadmore) return;\n\t      this.canLoadmore = false;\n\t\n\t      setTimeout(function () {\n\t\n\t        _this.resetPreviewList(from, to);\n\t        _this.handleScroll();\n\t\n\t        _this.canLoadmore = true;\n\t      }, 2000);\n\t    },\n\t    resetPreviewList: function resetPreviewList(from, to) {\n\t      this.previewList = [];\n\t      for (; from < to; from++) {\n\t        this.previewList.push({\n\t          title: 'item ' + from\n\t        });\n\t      }\n\t    }\n\t  },\n\t  components: {}\n\t};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(2)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(4)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(9)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(1)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(5)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(8)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"vue-list\",\n\t    on: {\n\t      \"scroll\": _vm.handleScroll\n\t    }\n\t  }, [_c('ul', [_c('li', {\n\t    staticClass: \"line-top\",\n\t    style: ({\n\t      height: _vm.lineTopHeight + 'px'\n\t    })\n\t  }), _vm._v(\" \"), _vm._l((_vm.previewList), function(item) {\n\t    return _c('li', [_vm._v(_vm._s(item.title))])\n\t  }), _vm._v(\" \"), _c('li', {\n\t    staticClass: \"line-bottom\",\n\t    style: ({\n\t      height: _vm.lineBottomHeight + 'px'\n\t    })\n\t  })], 2), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"load-more-gif\"\n\t  }, [_vm._v(\"loading...\")])])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    attrs: {\n\t      \"id\": \"app\"\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"content\"\n\t  }, [_c('div', {\n\t    staticClass: \"preview\"\n\t  }, [_c('div', {\n\t    staticClass: \"setting\"\n\t  }, [_c('p', [_vm._v(\"Total items: \"), _c('span', [_vm._v(_vm._s(_vm.list.length))])]), _vm._v(\" \"), _c('p', [_vm._v(\"Item height: \"), _c('span', [_vm._v(_vm._s(_vm.data.height) + \"px\")])]), _vm._v(\" \"), _c('p', [_vm._v(\"Above items: \"), _c('span', [_vm._v(_vm._s(_vm.data._above))])]), _vm._v(\" \"), _c('p', [_vm._v(\"Below items: \"), _c('span', [_vm._v(_vm._s(_vm.data._below))])]), _vm._v(\" \"), _c('p', [_vm._v(\"Rows in window: \"), _c('span', [_vm._v(_vm._s(_vm.data.displayCount + 1) + \"-\" + _vm._s((_vm.data.displayCount + _vm.data._rowsInWindow) > _vm.list.length ? _vm.list.length : (_vm.data.displayCount + _vm.data._rowsInWindow)))])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(_vm._s(_vm.data._rowsInWindow * 4))]), _vm._v(\" items from \"), _c('span', [_vm._v(_vm._s(_vm.data.from))]), _vm._v(\" to \"), _c('span', [_vm._v(_vm._s(_vm.data.to))])]), _vm._v(\" \"), _c('p', [_vm._v(\"Top height: \"), _c('span', [_vm._v(_vm._s(_vm.data.lineTopHeight) + \"px\")])]), _vm._v(\" \"), _c('p', [_vm._v(\"Bottom Height: \"), _c('span', [_vm._v(_vm._s(_vm.data.lineBottomHeight) + \"px\")])]), _vm._v(\" \"), _c('p', [_vm._v(\"Will load more items: \"), _c('span', [_vm._v(_vm._s(!_vm.data.canLoadmore))])])]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"preview-content\"\n\t  }, [_c('vue-list', {\n\t    attrs: {\n\t      \"list\": _vm.list,\n\t      \"dispatchData\": _vm.setData\n\t    },\n\t    on: {\n\t      \"update:list\": function($event) {\n\t        _vm.list = $event\n\t      }\n\t    }\n\t  })], 1)])])])\n\t},staticRenderFns: []}\n\n/***/ })\n]);\n\n\n// WEBPACK FOOTER //\n// static/js/app_normal.1c485e38b75f47fab47e.js","import Vue from 'vue'\r\nimport App from './App-normal'\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  template: '<App/>',\r\n  components: { App }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main_normal.js","<template>\r\n  <div id=\"app\">\r\n\r\n    <div class=\"content\">\r\n      <div class=\"preview\">\r\n        <div class=\"setting\">\r\n          <p>Total items: <span>{{list.length}}</span></p>\r\n          <p>Item height: <span>{{data.height}}px</span></p>\r\n          <p>Above items: <span>{{data._above}}</span></p>\r\n          <p>Below items: <span>{{data._below}}</span></p>\r\n          <p>Rows in window: <span>{{data.displayCount + 1}}-{{(data.displayCount + data._rowsInWindow) > list.length ? list.length: (data.displayCount + data._rowsInWindow)}}</span></p>\r\n          <p><span>{{data._rowsInWindow * 4}}</span> items from <span>{{data.from}}</span> to <span>{{data.to}}</span></p>\r\n          <p>Top height: <span>{{data.lineTopHeight}}px</span></p>\r\n          <p>Bottom Height: <span>{{data.lineBottomHeight}}px</span></p>\r\n          <p>Will load more items: <span>{{!data.canLoadmore}}</span></p>\r\n        </div>\r\n        <div class=\"preview-content\">\r\n          <vue-list :list.sync='list' :dispatchData=\"setData\"></vue-list>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport vueList from 'components/vue-list-normal';\r\n\r\nwindow.COUNT = 1;\r\n\r\nexport default {\r\n  name: 'app',\r\n  data() {\r\n    return {\r\n      list: [],\r\n      data: {}\r\n    }\r\n  },\r\n  created() {\r\n    for(var i = 0; i < 200; i++) {\r\n      this.list.push({\r\n        title: 'item ' + COUNT++\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    setData(data) {\r\n      this.data = data;\r\n    }\r\n  },\r\n  components: {\r\n    vueList\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\nhtml,body{\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n#app {\r\n  color: #2c3e50;\r\n  font-size: 48px;\r\n  .content{\r\n    width: 100%;\r\n    height: 650px;\r\n    &>div{\r\n\r\n    }\r\n    .preview{\r\n      .preview-content{\r\n        width: 100%;\r\n        height: 464px;\r\n\r\n        background: #fff;\r\n        overflow-y: scroll;\r\n      }\r\n    }\r\n    .setting{\r\n      p {display:inline;}\r\n      span{\r\n        color: #48B884;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// App-normal.vue?375ecb80","<template lang=\"html\">\r\n  <div class=\"vue-list\" @scroll=\"handleScroll\">\r\n    <ul>\r\n      <li class=\"line-top\" :style=\"{height: lineTopHeight +'px'}\"></li>\r\n      <li v-for=\"item in previewList\">{{item.title}}</li>\r\n      <li class=\"line-bottom\" :style=\"{height: lineBottomHeight +'px'}\"></li>\r\n    </ul>\r\n    <div class=\"load-more-gif\">loading...</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'vue-list',\r\n  props: {\r\n    list: {\r\n      type: Array,\r\n      required: true,\r\n      default: [],\r\n      twoWays: true\r\n    },\r\n    height: {\r\n      type: Number,\r\n      default: 44\r\n    },\r\n    canScroll: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    dispatchData: {\r\n      type: Function\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      lastScrollTop: null,\r\n      distance: 44,\r\n      lineTopHeight: 0,\r\n      lineBottomHeight: 0,\r\n      canLoadmore: true,\r\n      previewList: [],\r\n      displayCount: 0\r\n    }\r\n  },\r\n  mounted () {\r\n    this.initData();\r\n    this.handleScroll();\r\n  },\r\n  methods: {\r\n    initData() {\r\n      // init all data\r\n      this._rowsInWindow = Math.ceil(this.$el.offsetHeight / this.height),\r\n      this._above = this._rowsInWindow * 2,\r\n      this._below = this._rowsInWindow,\r\n      this._max = this._rowsInWindow * this.height;\r\n    },\r\n    handleScroll() {\r\n      let _scrollTop = this.$el.scrollTop,\r\n          _height = this.$el.querySelectorAll('ul')[0].offsetHeight,\r\n          _contentHeight = this.$el.offsetHeight;\r\n\r\n      // Counts the number of rows on the current screen\r\n      if (_scrollTop / this.height - Math.floor(_scrollTop / this.height) > 0.5) {\r\n        this.displayCount = Math.ceil(_scrollTop / this.height);\r\n      } else {\r\n        this.displayCount = Math.floor(_scrollTop / this.height);\r\n      }\r\n\r\n      // if the maximum height is exceeded, reset the previewList\r\n      if (this.lastScrollTop === null || Math.abs(_scrollTop - this.lastScrollTop) > this._max) {\r\n          this.lastScrollTop = _scrollTop;\r\n      } else {\r\n\r\n          if (_height - _scrollTop <= this._max) {\r\n            this.canScroll && this.loadmore(0, this.previewList.length + this._rowsInWindow * 4);\r\n          }\r\n          return;\r\n      }\r\n\r\n      if (!this.previewList.length)\r\n        this.resetPreviewList(0, this.previewList.length + this._rowsInWindow * 4);\r\n\r\n    },\r\n    loadmore(from, to) {\r\n      if (!this.canLoadmore) return;\r\n      this.canLoadmore = false;\r\n      // fetch mock\r\n      setTimeout(() => {\r\n\r\n        this.resetPreviewList(from, to);\r\n        this.handleScroll();\r\n\r\n        this.canLoadmore = true;\r\n      }, 2000)\r\n    },\r\n    resetPreviewList(from, to) {\r\n      // reset previewList\r\n      this.previewList = [];\r\n      for (; from < to; from++) {\r\n          this.previewList.push({\r\n            title: 'item ' + from\r\n          })\r\n      }\r\n    }\r\n  },\r\n  components: {}\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.vue-list{\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow-y: auto;\r\n  &::scroll-bar{\r\n    width: 0;\r\n  }\r\n  ul {\r\n    margin: 0;\r\n    padding: 0;\r\n    li{\r\n      text-decoration: none;\r\n      height: 44px;\r\n      font-size: 48px;\r\n      line-height: 3;\r\n      text-align: left;\r\n      padding-left: 15px;\r\n      border-bottom: 1px solid #ddd;\r\n      box-sizing: border-box;\r\n      background: #fff;\r\n      &.line-top, &.line-bottom{\r\n        border-bottom: 0;\r\n      }\r\n    }\r\n  }\r\n  .load-more-gif{\r\n    width: 100%;\r\n    height: 44px;\r\n    text-align: center;\r\n    line-height: 44px;\r\n    background: #fff;\r\n    border-top: none;\r\n    color: #48B884;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// vue-list-normal.vue?6691173e","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!../node_modules/.1.0.1@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-57e7ae46!less-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./App-normal.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./App-normal.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-57e7ae46!vue-loader/lib/selector?type=template&index=0!./App-normal.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App-normal.vue\n// module id = 6\n// module chunks = 1","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!../../node_modules/.1.0.1@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-252d0d08!less-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./vue-list-normal.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./vue-list-normal.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-252d0d08!vue-loader/lib/selector?type=template&index=0!./vue-list-normal.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/vue-list-normal.vue\n// module id = 7\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"vue-list\",\n    on: {\n      \"scroll\": _vm.handleScroll\n    }\n  }, [_c('ul', [_c('li', {\n    staticClass: \"line-top\",\n    style: ({\n      height: _vm.lineTopHeight + 'px'\n    })\n  }), _vm._v(\" \"), _vm._l((_vm.previewList), function(item) {\n    return _c('li', [_vm._v(_vm._s(item.title))])\n  }), _vm._v(\" \"), _c('li', {\n    staticClass: \"line-bottom\",\n    style: ({\n      height: _vm.lineBottomHeight + 'px'\n    })\n  })], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"load-more-gif\"\n  }, [_vm._v(\"loading...\")])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.9.9.5@vue-loader/lib/template-compiler.js?id=data-v-252d0d08!./~/.9.9.5@vue-loader/lib/selector.js?type=template&index=0!./src/components/vue-list-normal.vue\n// module id = 8\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('div', {\n    staticClass: \"content\"\n  }, [_c('div', {\n    staticClass: \"preview\"\n  }, [_c('div', {\n    staticClass: \"setting\"\n  }, [_c('p', [_vm._v(\"Total items: \"), _c('span', [_vm._v(_vm._s(_vm.list.length))])]), _vm._v(\" \"), _c('p', [_vm._v(\"Item height: \"), _c('span', [_vm._v(_vm._s(_vm.data.height) + \"px\")])]), _vm._v(\" \"), _c('p', [_vm._v(\"Above items: \"), _c('span', [_vm._v(_vm._s(_vm.data._above))])]), _vm._v(\" \"), _c('p', [_vm._v(\"Below items: \"), _c('span', [_vm._v(_vm._s(_vm.data._below))])]), _vm._v(\" \"), _c('p', [_vm._v(\"Rows in window: \"), _c('span', [_vm._v(_vm._s(_vm.data.displayCount + 1) + \"-\" + _vm._s((_vm.data.displayCount + _vm.data._rowsInWindow) > _vm.list.length ? _vm.list.length : (_vm.data.displayCount + _vm.data._rowsInWindow)))])]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(_vm._s(_vm.data._rowsInWindow * 4))]), _vm._v(\" items from \"), _c('span', [_vm._v(_vm._s(_vm.data.from))]), _vm._v(\" to \"), _c('span', [_vm._v(_vm._s(_vm.data.to))])]), _vm._v(\" \"), _c('p', [_vm._v(\"Top height: \"), _c('span', [_vm._v(_vm._s(_vm.data.lineTopHeight) + \"px\")])]), _vm._v(\" \"), _c('p', [_vm._v(\"Bottom Height: \"), _c('span', [_vm._v(_vm._s(_vm.data.lineBottomHeight) + \"px\")])]), _vm._v(\" \"), _c('p', [_vm._v(\"Will load more items: \"), _c('span', [_vm._v(_vm._s(!_vm.data.canLoadmore))])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"preview-content\"\n  }, [_c('vue-list', {\n    attrs: {\n      \"list\": _vm.list,\n      \"dispatchData\": _vm.setData\n    },\n    on: {\n      \"update:list\": function($event) {\n        _vm.list = $event\n      }\n    }\n  })], 1)])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.9.9.5@vue-loader/lib/template-compiler.js?id=data-v-57e7ae46!./~/.9.9.5@vue-loader/lib/selector.js?type=template&index=0!./src/App-normal.vue\n// module id = 9\n// module chunks = 1"],"sourceRoot":""}